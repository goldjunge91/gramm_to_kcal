Running 6 tests using 4 workers
[WebServer] 2025-07-22T13:15:44.679Z ERROR [Better Auth]: User not found { email: 'invalid-e2e@example.com' }
  1) [chromium] › __e2e__/auth/login.spec.ts:42:7 › Login Flow › should show error message for invalid credentials 

    Test timeout of 30000ms exceeded while running "afterEach" hook.

      142 |   })
      143 |
    > 144 |   test.afterEach(async ({ page }) => {
          |        ^
      145 |     // Clean up: logout if logged in, then clear state
      146 |     try {
      147 |       // Only attempt logout if we're on a page where it makes sense
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:144:8

    Error Context: test-results/auth-login-Login-Flow-shou-e9ff4-age-for-invalid-credentials-chromium/error-context.md

  2) [chromium] › __e2e__/auth/login.spec.ts:80:7 › Login Flow › should validate email format ──────

    Test timeout of 30000ms exceeded while running "afterEach" hook.

      142 |   })
      143 |
    > 144 |   test.afterEach(async ({ page }) => {
          |        ^
      145 |     // Clean up: logout if logged in, then clear state
      146 |     try {
      147 |       // Only attempt logout if we're on a page where it makes sense
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:144:8

    Error Context: test-results/auth-login-Login-Flow-should-validate-email-format-chromium/error-context.md

  3) [chromium] › __e2e__/auth/login.spec.ts:65:7 › Login Flow › should validate required fields ───

    Test timeout of 30000ms exceeded while running "afterEach" hook.

      142 |   })
      143 |
    > 144 |   test.afterEach(async ({ page }) => {
          |        ^
      145 |     // Clean up: logout if logged in, then clear state
      146 |     try {
      147 |       // Only attempt logout if we're on a page where it makes sense
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:144:8

    Error Context: test-results/auth-login-Login-Flow-should-validate-required-fields-chromium/error-context.md

  4) [chromium] › __e2e__/auth/login.spec.ts:20:7 › Login Flow › should successfully login with valid credentials 

    Test timeout of 30000ms exceeded.

    Test timeout of 30000ms exceeded while running "afterEach" hook.

      142 |   })
      143 |
    > 144 |   test.afterEach(async ({ page }) => {
          |        ^
      145 |     // Clean up: logout if logged in, then clear state
      146 |     try {
      147 |       // Only attempt logout if we're on a page where it makes sense
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:144:8

    Error: page.waitForURL: Test ended.
    =========================== logs ===========================
    waiting for navigation to "/calories" until "load"
    ============================================================

       at helpers/auth-helpers.ts:36

      34 |
      35 |   // Wait for successful login (redirect to main app)
    > 36 |   await page.waitForURL('/calories')
         |              ^
      37 |
      38 |   // Verify we're logged in by checking for user avatar or logout button
      39 |   await expect(
        at loginUser (/Users/marco/Github.tmp/gramm_to_kcal/__e2e__/helpers/auth-helpers.ts:36:14)
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:30:5

    Error Context: test-results/auth-login-Login-Flow-shou-f9bdb-ogin-with-valid-credentials-chromium/error-context.md

  5) [chromium] › __e2e__/auth/login.spec.ts:97:7 › Login Flow › should redirect to originally requested page after login 

    Error: Timed out 5000ms waiting for expect(page).toHaveURL(expected)

    Expected string: "http://localhost:3000/auth/login"
    Received string: "http://localhost:3000/calories"
    Call log:
      - Expect "toHaveURL" with timeout 5000ms
        8 × unexpected value "http://localhost:3000/calories"


      102 |
      103 |     // Should be redirected to login
    > 104 |     await expect(page).toHaveURL('/auth/login')
          |                        ^
      105 |
      106 |     // Login with valid credentials
      107 |     await loginUser(page, testUsers.validUser)
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:104:24

    Test timeout of 30000ms exceeded while running "afterEach" hook.

      142 |   })
      143 |
    > 144 |   test.afterEach(async ({ page }) => {
          |        ^
      145 |     // Clean up: logout if logged in, then clear state
      146 |     try {
      147 |       // Only attempt logout if we're on a page where it makes sense
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:144:8

    Error Context: test-results/auth-login-Login-Flow-shou-d8073--requested-page-after-login-chromium/error-context.md

  6) [chromium] › __e2e__/auth/login.spec.ts:113:7 › Login Flow › should maintain login state across page navigation 

    Test timeout of 30000ms exceeded.

    Test timeout of 30000ms exceeded while running "afterEach" hook.

      142 |   })
      143 |
    > 144 |   test.afterEach(async ({ page }) => {
          |        ^
      145 |     // Clean up: logout if logged in, then clear state
      146 |     try {
      147 |       // Only attempt logout if we're on a page where it makes sense
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:144:8

    Error: page.waitForURL: Test ended.
    =========================== logs ===========================
    waiting for navigation to "/calories" until "load"
    ============================================================

       at helpers/auth-helpers.ts:36

      34 |
      35 |   // Wait for successful login (redirect to main app)
    > 36 |   await page.waitForURL('/calories')
         |              ^
      37 |
      38 |   // Verify we're logged in by checking for user avatar or logout button
      39 |   await expect(
        at loginUser (/Users/marco/Github.tmp/gramm_to_kcal/__e2e__/helpers/auth-helpers.ts:36:14)
        at /Users/marco/Github.tmp/gramm_to_kcal/__e2e__/auth/login.spec.ts:117:5

    Error Context: test-results/auth-login-Login-Flow-shou-6b0dd-tate-across-page-navigation-chromium/error-context.md

  6 failed
    [chromium] › __e2e__/auth/login.spec.ts:20:7 › Login Flow › should successfully login with valid credentials 
    [chromium] › __e2e__/auth/login.spec.ts:42:7 › Login Flow › should show error message for invalid credentials 
    [chromium] › __e2e__/auth/login.spec.ts:65:7 › Login Flow › should validate required fields ────
    [chromium] › __e2e__/auth/login.spec.ts:80:7 › Login Flow › should validate email format ───────
    [chromium] › __e2e__/auth/login.spec.ts:97:7 › Login Flow › should redirect to originally requested page after login 
    [chromium] › __e2e__/auth/login.spec.ts:113:7 › Login Flow › should maintain login state across page navigation 

  Serving HTML report at http://localhost:64187. Press Ctrl+C to quit.
